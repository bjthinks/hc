Unfortunately, using external libraries is one of the biggest
headaches in Haskell programming.  Diverse libraries, Haskell
compilers, and host architecture/OS combinations make this problem
difficult to solve.

Fc uses the GNU readline library.  The following instructions may help
in getting this library working.

On MacOS X:
==========

Download the readline source code using your preferred browser, then
perform the following series of steps into a terminal window.  Do not
blindly cut and paste these commands; instead, try to verify the
various filenames and directories, modifying as appropriate, as you
go.  Backslashes (\) indicate that the command is continued on the
next line, of course.

1. Build readline as a dual platform binary (i386 + x86_64).  You need
   to do this so that Haskell can link to readline regardless of
   whether you do 32 or 64 bit compilation.
   Create a ~/src folder, and unpack the readline sources.
     cd ~/src
     tar zxf ../Downloads/readline-6.1.tar.gz
     cd readline-6.1
   Configure the build environment to generate 32/64 bit output.
     export CFLAGS="-O3 -isysroot /Developer/SDKs/MacOSX10.6.sdk \
       -arch i386 -arch x86_64"
     export LDFLAGS="-O3 -arch i386 -arch x86_64"
     ./configure --prefix=$HOME
   Build and install readline.  This will install the library in
   subdirectories called ~/bin, ~/lib, ~/include, and ~/share.
     make
     make install
   Unset the above variables so they don't screw you up later.
     unset CFLAGS
     unset LDFLAGS

2. Use cabal to build the Haskell interface to readline
     cabal update
     cabal install readline \
       --configure-option=--with-readline-includes=/Users/`whoami`/include \
       --configure-option=--with-readline-libraries=/Users/`whoami`/lib

3. Test it
     ghci
     import System.Console.Readline
     readline "prompt "

You should now be able to use the GNU readline library.  Remember to
compile with ghc --make, or you will probably get linker errors.

On Ubuntu Linux:
===============

1. Install the development sources for readline
     sudo aptitude install libreadline-dev

2. Use cabal to build the Haskell interface to readline
     cabal update
     cabal install readline

3. Test it
     ghci
     import System.Console.Readline
     readline "prompt "
